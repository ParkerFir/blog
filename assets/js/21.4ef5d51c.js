(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{598:function(s,n,a){"use strict";a.r(n);var t=a(3),e=Object(t.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"前提须知"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提须知"}},[s._v("#")]),s._v(" 前提须知")]),s._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"https://github.com/cnpm/cnpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("cnpm"),a("OutboundLink")],1),s._v(" (gzip 压缩支持) 命令行工具代替默认的 npm")]),s._v(" "),a("li",[s._v("npm install -g cnpm --registry=https://registry.npm.taobao.org")]),s._v(" "),a("li",[s._v("初始化   cnpm init")]),s._v(" "),a("li",[s._v("安装     cnpm install --save-dev electron cnpm install")]),s._v(" "),a("li",[s._v('"package": "electron-packager . test --out=./ --asar --app-version=1.0.0"')])]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"electron"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#electron"}},[s._v("#")]),s._v(" electron")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("# 快速安装 electron\ngit clone https"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//github.com/electron/electron-quick-start  ")]),s._v("\n\ncd electron-quick-start\n\ncnpm install\n\ncnpm start\n\n# 开始打包 (包含源码) 用 electron-packager 打包\n\ncnpm install electron-packager -g\n\n"),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"start"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron ."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"package"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"electron-packager . myClient --out ./ --arch=x64 --app-version=1.0.0"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\nelectron-packager . HelloWorld --platform=win32 --arch=x64 --icon=computer.ico --out=./out --asar --app-version="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" --overwrite --ignore=node_modules --electron-version="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  --icon=./app/img/icon.ico\n\n# 如下解析：\n--platform=win32：确定了你要构建哪个平台的应用"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可取的值有 darwin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" linux"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" mas"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" win32\n--arch=x64：决定了使用 x86 还是 x64 还是两个架构都用\n--icon=computer.ico：自定义设置应用图标\n--out=./out：指定打包文件输出的文件夹位置"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("当前指定的为项目目录下的out文件夹\n--asar：该参数可以不加，如果加上，打包之后应用的源码会以.asar格式存在\n--app-version="),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("：生成应用的版本号\n--overwrite：覆盖原有的build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("让新生成的包覆盖原来的包\n--ignore=node_modules：如果加上该参数，项目里node_modules模块不会被打包进去\n--electron-version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),s._v("."),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("：指定当前要构建的electron的版本"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("需要和当前的版本一致"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("具体可以在package.json文件中查看"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("可以不加该参数，如果不一致，会自动下载，不建议写\n\n# 最后生成该exe可执行文件\ncnpm run package\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br")])]),a("hr"),s._v(" "),a("p",[s._v("将打包成的可执行文件 转为 安装包")]),s._v(" "),a("p",[s._v("cnpm install -g asar  安装asar依赖")]),s._v(" "),a("p",[s._v("asar pack ./index.html app.asar 将index.html打包成asar文件 放到resource文件夹里面")]),s._v(" "),a("p",[s._v("这是安装包：\n"),a("a",{attrs:{href:"https://app.yinxiang.com/OutboundRedirect.action?dest=https%3A%2F%2Fapp.yinxiang.com%2Fshard%2Fs37%2Fres%2F3af2e674-8a2b-40ed-bf1c-a0e7bf573032%2FNSIS_v251_Build_20160601%2520-%2520NSISFANS.exe",target:"_blank",rel:"noopener noreferrer"}},[s._v("NSIS_v251_Build_20160612 - NS..."),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("使用工具 NSIS：\n"),a("a",{attrs:{href:"https://app.yinxiang.com/OutboundRedirect.action?dest=https%3A%2F%2Fapp.yinxiang.com%2Fshard%2Fs37%2Fres%2Ff58e2996-7a4c-4dbc-a13e-377fa6a645b6%2Fmytest.nsi",target:"_blank",rel:"noopener noreferrer"}},[s._v("mytest.nsi"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("使用教程如下: "),a("a",{attrs:{href:"https://blog.csdn.net/yu17310133443/article/details/79496499",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/yu17310133443/article/details/79496499"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("完整总结: "),a("a",{attrs:{href:"https://blog.csdn.net/yu17310133443/article/details/79494953",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.csdn.net/yu17310133443/article/details/79494953"),a("OutboundLink")],1)]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"nw"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nw"}},[s._v("#")]),s._v(" nw")]),s._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("cnpm install nw  安装nw.js的依赖包\n\n建一个package.json文件夹\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"helloworld"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"main"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://www.shangqiuliren.com/shopLogin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"window"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"icon"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"icon.png"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"width"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1337")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"height"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("757")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\ncopy /b nw.exe+package.nw app.exe\n\n使用 VNISEdit 编译环境 ( NSIS ) 进行编辑\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])])])}),[],!1,null,null,null);n.default=e.exports}}]);